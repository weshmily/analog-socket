{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'App',\n\n  data() {\n    return {\n      state: false,\n      form: {\n        port: 9001,\n        desc: '{\"code\": 200,\"data\": {\"msg\": \"HELLO WORLD\"}}'\n      },\n      tableData: [],\n      selectUser: []\n    };\n  },\n\n  created() {\n    window.IfIsSuccessful = res => {\n      this.state = res;\n    };\n  },\n\n  methods: {\n    handleSelectionChange(user) {\n      this.selectUser = user;\n    },\n\n    queryUser() {\n      this.tableData = window.QueryUser();\n      this.$nextTick(() => {\n        this.$refs.mainTable.toggleAllSelection();\n      });\n    },\n\n    onSubmit() {\n      if (this.selectUser.length === 0) {\n        this.$message({\n          message: '请选择至少一个用户!',\n          type: 'warning'\n        });\n        return false;\n      }\n\n      window.WebSocketSend(this.form.desc, this.selectUser);\n    },\n\n    create() {\n      window.initWebScoket(this.form.port);\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;EACAA,WADA;;EAEAC;IACA;MACAC,YADA;MAEAC;QACAC,UADA;QAEAC;MAFA,CAFA;MAMAC,aANA;MAOAC;IAPA;EASA,CAZA;;EAaAC;IACAC;MACA;IACA,CAFA;EAGA,CAjBA;;EAkBAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;MACA;QACA;MACA,CAFA;IAGA,CATA;;IAUAC;MACA;QACA;UACAC,qBADA;UAEAC;QAFA;QAIA;MACA;;MACAN;IACA,CAnBA;;IAoBAO;MACAP;IACA;;EAtBA;AAlBA","names":["name","data","state","form","port","desc","tableData","selectUser","created","window","methods","handleSelectionChange","queryUser","onSubmit","message","type","create"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"formbox\">\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n        <el-form-item label=\"端口号:\">\n          <el-col :span=\"12\">\n            <el-input v-model=\"form.name\"></el-input>\n          </el-col>\n          <el-col :span=\"12\" class=\"center-box\">\n            <el-button v-show=\"!state\" type=\"primary\" @click=\"create()\" round>创建websocket服务</el-button>\n            <el-button v-show=\"state\" type=\"danger\" round>关闭websocket服务</el-button>\n          </el-col>\n        </el-form-item>\n\n        <el-form-item>\n          <div class=\"table-el\">\n            <div class=\"tool\">\n              <el-button type=\"primary\" size=\"mini\" @click=\"queryUser\" circle icon=\"el-icon-refresh\"></el-button>\n            </div>\n            <el-table ref=\"mainTable\" border max-height=\"200\" :data=\"tableData\" style=\"width: 100%;\"\n              @selection-change=\"handleSelectionChange\">\n              <el-table-column type=\"selection\" width=\"55\">\n              </el-table-column>\n              <el-table-column prop=\"key\" label=\"key\">\n              </el-table-column>\n              <el-table-column prop=\"path\" label=\"地址\">\n              </el-table-column>\n              <el-table-column prop=\"origin\" label=\"来源\">\n              </el-table-column>\n\n            </el-table>\n          </div>\n        </el-form-item>\n\n        <el-form-item label=\"发送消息:\">\n\n          <el-input type=\"textarea\" :autosize=\"{ minRows: 4 }\" v-model=\"form.desc\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button class=\"send-msg\" type=\"primary\" round @click=\"onSubmit\">发送消息</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      state: false,\n      form: {\n        port: 9001,\n        desc: '{\"code\": 200,\"data\": {\"msg\": \"HELLO WORLD\"}}'\n      },\n      tableData: [],\n      selectUser: [],\n    }\n  },\n  created() {\n    window.IfIsSuccessful = (res) => {\n      this.state = res\n    }\n  },\n  methods: {\n    handleSelectionChange(user) {\n      this.selectUser = user;\n    },\n    queryUser() {\n      this.tableData = window.QueryUser()\n      this.$nextTick(() => {\n        this.$refs.mainTable.toggleAllSelection()\n      })\n    },\n    onSubmit() {\n      if (this.selectUser.length === 0) {\n        this.$message({\n          message: '请选择至少一个用户!',\n          type: 'warning'\n        });\n        return false\n      }\n      window.WebSocketSend(this.form.desc, this.selectUser)\n    },\n    create() {\n      window.initWebScoket(this.form.port)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.formbox {\n  padding: 10px 40px;\n\n  .center-box {\n    text-align: center;\n  }\n\n  .send-msg {\n    vertical-align: bottom;\n  }\n\n  .table-el {\n\n    .tool {\n      text-align: right;\n    }\n  }\n}\n\n.port-input {\n  width: 200px !important;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}